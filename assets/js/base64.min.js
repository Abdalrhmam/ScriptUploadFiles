!function(a){"use strict";var b="object"==typeof process&&process.versions&&process.versions.node;b&&(a=global);var l,m,c=!a.HI_BASE64_TEST&&"object"==typeof module&&module.exports,d="function"==typeof define&&define.amd,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),f={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},g=function(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b[b.length]=d:d<2048?(b[b.length]=192|d>>6,b[b.length]=128|63&d):d<55296||d>=57344?(b[b.length]=224|d>>12,b[b.length]=128|d>>6&63,b[b.length]=128|63&d):(d=65536+((1023&d)<<10|1023&a.charCodeAt(++c)),b[b.length]=240|d>>18,b[b.length]=128|d>>12&63,b[b.length]=128|d>>6&63,b[b.length]=128|63&d)}return b},h=function(a){var b,c,d,e,g=[],h=0,i=a.length;"="==a.charAt(i-2)?i-=2:"="==a.charAt(i-1)&&(i-=1);for(var j=0,k=i>>2<<2;j<k;)b=f[a.charAt(j++)],c=f[a.charAt(j++)],d=f[a.charAt(j++)],e=f[a.charAt(j++)],g[h++]=255&(b<<2|c>>>4),g[h++]=255&(c<<4|d>>>2),g[h++]=255&(d<<6|e);var l=i-k;return 2==l?(b=f[a.charAt(j++)],c=f[a.charAt(j++)],g[h++]=255&(b<<2|c>>>4)):3==l&&(b=f[a.charAt(j++)],c=f[a.charAt(j++)],d=f[a.charAt(j++)],g[h++]=255&(b<<2|c>>>4),g[h++]=255&(c<<4|d>>>2)),g},i=function(a){for(var b,c,d,f="",g=a.length,h=0,i=3*parseInt(g/3);h<i;)b=a[h++],c=a[h++],d=a[h++],f+=e[b>>>2]+e[63&(b<<4|c>>>4)]+e[63&(c<<2|d>>>6)]+e[63&d];var j=g-i;return 1==j?(b=a[h],f+=e[b>>>2]+e[b<<4&63]+"=="):2==j&&(b=a[h++],c=a[h],f+=e[b>>>2]+e[63&(b<<4|c>>>4)]+e[c<<2&63]+"="),f},j=a.btoa,k=a.atob;if(!a.HI_BASE64_TEST&&b){var n=require("buffer").Buffer;j=function(a){return new n(a,"ascii").toString("base64")},l=function(a){return new n(a).toString("base64")},i=l,k=function(a){return new n(a,"base64").toString("ascii")},m=function(a){return new n(a,"base64").toString()}}else j?(l=function(a){for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d<2048?b+=String.fromCharCode(192|d>>6)+String.fromCharCode(128|63&d):d<55296||d>=57344?b+=String.fromCharCode(224|d>>12)+String.fromCharCode(128|d>>6&63)+String.fromCharCode(128|63&d):(d=65536+((1023&d)<<10|1023&a.charCodeAt(++c)),b+=String.fromCharCode(240|d>>18)+String.fromCharCode(128|d>>12&63)+String.fromCharCode(128|d>>6&63)+String.fromCharCode(128|63&d))}return j(b)},m=function(a){var b=k(a.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(b))return b;for(var g,h,c="",d=0,e=b.length,f=0;d<e;)if(g=b.charCodeAt(d++),g<=127)c+=String.fromCharCode(g);else{if(g>191&&g<=223)h=31&g,f=1;else if(g<=239)h=15&g,f=2;else{if(!(g<=247))throw"not a UTF-8 string";h=7&g,f=3}for(var i=0;i<f;++i){if(g=b.charCodeAt(d++),g<128||g>191)throw"not a UTF-8 string";h<<=6,h+=63&g}if(h>=55296&&h<=57343)throw"not a UTF-8 string";if(h>1114111)throw"not a UTF-8 string";h<=65535?c+=String.fromCharCode(h):(h-=65536,c+=String.fromCharCode((h>>10)+55296),c+=String.fromCharCode((1023&h)+56320))}return c}):(j=function(a){for(var b,c,d,f="",g=a.length,h=0,i=3*parseInt(g/3);h<i;)b=a.charCodeAt(h++),c=a.charCodeAt(h++),d=a.charCodeAt(h++),f+=e[b>>>2]+e[63&(b<<4|c>>>4)]+e[63&(c<<2|d>>>6)]+e[63&d];var j=g-i;return 1==j?(b=a.charCodeAt(h),f+=e[b>>>2]+e[b<<4&63]+"=="):2==j&&(b=a.charCodeAt(h++),c=a.charCodeAt(h),f+=e[b>>>2]+e[63&(b<<4|c>>>4)]+e[c<<2&63]+"="),f},l=function(a){for(var b,c,d,f="",h=g(a),i=h.length,j=0,k=3*parseInt(i/3);j<k;)b=h[j++],c=h[j++],d=h[j++],f+=e[b>>>2]+e[63&(b<<4|c>>>4)]+e[63&(c<<2|d>>>6)]+e[63&d];var l=i-k;return 1==l?(b=h[j],f+=e[b>>>2]+e[b<<4&63]+"=="):2==l&&(b=h[j++],c=h[j],f+=e[b>>>2]+e[63&(b<<4|c>>>4)]+e[c<<2&63]+"="),f},k=function(a){var b,c,d,e,g="",h=a.length;"="==a.charAt(h-2)?h-=2:"="==a.charAt(h-1)&&(h-=1);for(var i=0,j=h>>2<<2;i<j;)b=f[a.charAt(i++)],c=f[a.charAt(i++)],d=f[a.charAt(i++)],e=f[a.charAt(i++)],g+=String.fromCharCode(255&(b<<2|c>>>4))+String.fromCharCode(255&(c<<4|d>>>2))+String.fromCharCode(255&(d<<6|e));var k=h-j;return 2==k?(b=f[a.charAt(i++)],c=f[a.charAt(i++)],g+=String.fromCharCode(255&(b<<2|c>>>4))):3==k&&(b=f[a.charAt(i++)],c=f[a.charAt(i++)],d=f[a.charAt(i++)],g+=String.fromCharCode(255&(b<<2|c>>>4))+String.fromCharCode(255&(c<<4|d>>>2))),g},m=function(a){for(var g,i,b="",c=h(a),d=c.length,e=0,f=0;e<d;)if(g=c[e++],g<=127)b+=String.fromCharCode(g);else{if(g>191&&g<=223)i=31&g,f=1;else if(g<=239)i=15&g,f=2;else{if(!(g<=247))throw"not a UTF-8 string";i=7&g,f=3}for(var j=0;j<f;++j){if(g=c[e++],g<128||g>191)throw"not a UTF-8 string";i<<=6,i+=63&g}if(i>=55296&&i<=57343)throw"not a UTF-8 string";if(i>1114111)throw"not a UTF-8 string";i<=65535?b+=String.fromCharCode(i):(i-=65536,b+=String.fromCharCode((i>>10)+55296),b+=String.fromCharCode((1023&i)+56320))}return b});var o=function(b,c){var d="string"!=typeof b;return d&&b.constructor==a.ArrayBuffer&&(b=new Uint8Array(b)),d?i(b):!c&&/[^\x00-\x7F]/.test(b)?l(b):j(b)},p=function(a,b){return b?k(a):m(a)},q={encode:o,decode:p,atob:k,btoa:j};p.bytes=h,p.string=p,c?module.exports=q:(a.base64=q,d&&define(function(){return q}))}(this);